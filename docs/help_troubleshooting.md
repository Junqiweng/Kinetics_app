# 常见问题（按症状快速定位）

## A. CSV/数据相关

### A1. 提示“缺少所选输出测量列”

- 你选了某个输出模式（例如 `Cout`），并勾选了某些物种作为目标
- 但 CSV 里缺少对应列名（例如 `Cout_A_mol_m3`）

解决：

- 用 App 的“下载模板”，把数据粘进去
- 或检查物种名是否一致（物种名会决定列名）

### A2. 提示“测量列存在 NaN/非数字”

解决：

- 清理数据：把空白/文本改为数字
- 或取消选择对应目标物种（不进入目标函数就不会检查它）
- 如果某些行缺测：建议拆分数据文件（只保留有测量的行）

## B. 求解/拟合相关

### B1. `solve_ivp失败`

常见原因：刚性、参数导致反应过快/过慢、步长不合适、容差过严。

按顺序尝试：

1) 求解器换 `BDF` 或 `Radau`  
2) 放宽容差：`rtol`/`atol` 调大一档  
3) 缩紧参数边界、改进初值（避免极端速率常数）  
4) 调整 `max_step_fraction`（过小会很慢，过大可能不稳；必要时设 0）  

### B2. 拟合“不动”或很慢

优先尝试：

- 把 `diff_step` 调到 `1e-2 ~ 1e-3`
- 开启 `Multi-start`
- 先少拟合几个参数（例如先只拟合 $k_0$，固定 $E_a$ 与级数），再逐步放开

### B3. 参数跑到边界

可能原因：

- 数据不足以辨识该参数（相关性强）
- 初值太差，或边界太宽导致优化走向不合理区域

处理：

- 缩紧边界
- 增加温度跨度（尤其是要拟合 $E_a$）
- 先固定一部分参数

