# CSV 列说明（最容易出错的部分）

> 核心原则：**列名必须与模板完全一致**（大小写、下划线、单位后缀都要匹配）。

## 1) 一行数据代表什么？

- **PFR**：一行 = 一个工况（$V,T,\dot{v},F_{0,i}$）下的出口测量  
- **CSTR**：一行 = 一个稳态工况（$V,T,\dot{v},C_{0,i}$）下的出口测量（通常认为出口=釜内浓度）
- **BSTR**：一行 = 在（$C_{0,i},T$）下的某个时间点 $t$ 的测量

## 2) PFR 必要输入列（每行都要有）

- `V_m3`：体积 [m³]
- `T_K`：温度 [K]
- `vdot_m3_s`：体积流量 [m³/s]
- `F0_<物种名>_mol_s`：入口摩尔流量 [mol/s]（每个物种一列）

## 3) CSTR 必要输入列（每行都要有）

- `V_m3`：体积 [m³]
- `T_K`：温度 [K]
- `vdot_m3_s`：体积流量 [m³/s]
- `C0_<物种名>_mol_m3`：入口浓度 [mol/m³]（每个物种一列）

## 4) BSTR 必要输入列（每行都要有）

- `t_s`：时间 [s]
- `T_K`：温度 [K]
- `C0_<物种名>_mol_m3`：初始浓度 [mol/m³]（每个物种一列）

## 5) 测量列（选哪个“拟合目标变量”，就用哪种列）

- `Fout_<物种名>_mol_s`：出口摩尔流量 [mol/s]（PFR / CSTR）
- `Cout_<物种名>_mol_m3`：出口浓度 [mol/m³]

## 6) 重要限制：所选测量列不能有 NaN

App 会检查你“当前选中的测量列”（由 **拟合目标变量 + 目标物种** 决定）：

- 只要这些列里出现 `NaN/空值/非数字/无穷大`，拟合会停止并提示具体列与行号

因此：

- 如果某个物种没有测量：请在“进入目标函数的物种”里取消勾选它
- 如果某些行缺测：建议拆分数据文件或先补齐数据（否则无法拟合）

## 7) 最常见的 4 个错误

1. 物种名改了，但 CSV 列名没跟着改  
2. 复制 Excel 时带了空白/文本，导致某列出现非数字  
3. 单位错：把 `vdot` 用了 L/min 但列名写的是 `m3_s`  
4. BSTR 数据把 `t` 写成分钟但列名是 `t_s`  
